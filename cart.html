<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</title>
<style>
body{font-family:sans-serif}
.item{border-bottom:1px solid #ddd;padding:8px}
button{margin:0 4px}
</style>
</head>
<body>

<h2>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>
<div id="cart"></div>
<h3>‡∏£‡∏ß‡∏°: <span id="total">0</span> ‡∏ö‡∏≤‡∏ó</h3>

<button onclick="location.href='checkout.html'">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
<button onclick="location.href='index.html'">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°</button>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function render(){
  let html="", total=0;
  cart.forEach((i,idx)=>{
    total += i.price*i.qty;
    html += `
      <div class="item">
        ${i.name} (${i.price} ‡∏ö‡∏≤‡∏ó)
        <button onclick="qty(${idx},-1)">-</button>
        ${i.qty}
        <button onclick="qty(${idx},1)">+</button>
        <button onclick="del(${idx})">‡∏•‡∏ö</button>
      </div>`;
  });
  document.getElementById("cart").innerHTML = html || "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤";
  document.getElementById("total").innerText = total;
}

function qty(i,d){
  cart[i].qty += d;
  if(cart[i].qty<=0) cart.splice(i,1);
  save();
}
function del(i){
  cart.splice(i,1); save();
}
function save(){
  localStorage.setItem("cart",JSON.stringify(cart));
  render();
}
render();
</script>

</body>
</html>
